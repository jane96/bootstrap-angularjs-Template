(function(window,document,undefined){var modalClass=".sweet-alert",overlayClass=".sweet-overlay",alertTypes=["error","warning","info","success"],defaultParams={title:"",text:"",type:null,allowOutsideClick:false,showConfirmButton:true,showCancelButton:true,closeOnConfirm:false,closeOnCancel:true,confirmButtonText:"确定",confirmButtonColor:"#DD6B55",cancelButtonText:"取消",imageUrl:null,imageSize:null,timer:null,customClass:"",html:false,animation:true,allowEscapeKey:true};var getModal=function(){var $modal=document.querySelector(modalClass);if(!$modal){sweetAlertInitialize();$modal=getModal()}return $modal},getOverlay=function(){return document.querySelector(overlayClass)},hasClass=function(elem,className){return new RegExp(" "+className+" ").test(" "+elem.className+" ")},addClass=function(elem,className){if(!hasClass(elem,className)){elem.className+=" "+className}},removeClass=function(elem,className){var newClass=" "+elem.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(elem,className)){while(newClass.indexOf(" "+className+" ")>=0){newClass=newClass.replace(" "+className+" "," ")}elem.className=newClass.replace(/^\s+|\s+$/g,"")}},escapeHtml=function(str){var div=document.createElement("div");div.appendChild(document.createTextNode(str));return div.innerHTML},_show=function(elem){elem.style.opacity="";elem.style.display="block"},show=function(elems){if(elems&&!elems.length){return _show(elems)}for(var i=0;i<elems.length;++i){_show(elems[i])}},_hide=function(elem){elem.style.opacity="";elem.style.display="none"},hide=function(elems){if(elems&&!elems.length){return _hide(elems)}for(var i=0;i<elems.length;++i){_hide(elems[i])}},isDescendant=function(parent,child){var node=child.parentNode;while(node!==null){if(node===parent){return true}node=node.parentNode}return false},getTopMargin=function(elem){elem.style.left="-9999px";elem.style.display="block";var height=elem.clientHeight,padding;if(typeof getComputedStyle!=="undefined"){padding=parseInt(getComputedStyle(elem).getPropertyValue("padding"),10)}else{padding=parseInt(elem.currentStyle.padding)}elem.style.left="";elem.style.display="none";return("-"+parseInt(height/2+padding)+"px")},fadeIn=function(elem,interval){if(+elem.style.opacity<1){interval=interval||16;elem.style.opacity=0;elem.style.display="block";var last=+new Date();var tick=function(){elem.style.opacity=+elem.style.opacity+(new Date()-last)/100;last=+new Date();if(+elem.style.opacity<1){setTimeout(tick,interval)}};tick()}elem.style.display="block"},fadeOut=function(elem,interval){interval=interval||16;elem.style.opacity=1;var last=+new Date();var tick=function(){elem.style.opacity=+elem.style.opacity-(new Date()-last)/100;last=+new Date();if(+elem.style.opacity>0){setTimeout(tick,interval)}else{elem.style.display="none"}};tick()},fireClick=function(node){if(typeof MouseEvent==="function"){var mevt=new MouseEvent("click",{view:window,bubbles:false,cancelable:true});node.dispatchEvent(mevt)}else{if(document.createEvent){var evt=document.createEvent("MouseEvents");evt.initEvent("click",false,false);node.dispatchEvent(evt)}else{if(document.createEventObject){node.fireEvent("onclick")}else{if(typeof node.onclick==="function"){node.onclick()}}}}},stopEventPropagation=function(e){if(typeof e.stopPropagation==="function"){e.stopPropagation();e.preventDefault()}else{if(window.event&&window.event.hasOwnProperty("cancelBubble")){window.event.cancelBubble=true}}};var previousActiveElement,previousDocumentClick,previousWindowKeyDown,lastFocusedButton;var sweetAlertInitialize=function(){var sweetHTML='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="sa-icon sa-error"><span class="sa-x-mark"><span class="sa-line sa-left"></span><span class="sa-line sa-right"></span></span></div><div class="sa-icon sa-warning"> <span class="sa-body"></span> <span class="sa-dot"></span> </div> <div class="sa-icon sa-info"></div> <div class="sa-icon sa-success"> <span class="sa-line sa-tip"></span> <span class="sa-line sa-long"></span> <div class="sa-placeholder"></div> <div class="sa-fix"></div> </div> <div class="sa-icon sa-custom"></div> <h2>Title</h2><p>Text</p><button class="cancel" tabIndex="2">Cancel</button><button class="confirm" tabIndex="1">OK</button></div>',sweetWrap=document.createElement("div");sweetWrap.innerHTML=sweetHTML;while(sweetWrap.firstChild){document.body.appendChild(sweetWrap.firstChild)}};var sweetAlert,swal;sweetAlert=swal=function(){var customizations=arguments[0];function argumentOrDefault(key){var args=customizations;if(typeof args[key]!=="undefined"){return args[key]}else{return defaultParams[key]}}if(arguments[0]===undefined){logStr("SweetAlert expects at least 1 attribute!");return false}var params=extend({},defaultParams);switch(typeof arguments[0]){case"string":params.title=arguments[0];params.text=arguments[1]||"";params.type=arguments[2]||"";break;case"object":if(arguments[0].title===undefined){logStr('Missing "title" argument!');return false}params.title=arguments[0].title;
var availableCustoms=["text","type","customClass","allowOutsideClick","showConfirmButton","showCancelButton","closeOnConfirm","closeOnCancel","timer","confirmButtonColor","cancelButtonText","imageUrl","imageSize","html","animation","allowEscapeKey"];var numCustoms=availableCustoms.length;for(var customIndex=0;customIndex<numCustoms;customIndex++){var customName=availableCustoms[customIndex];params[customName]=argumentOrDefault(customName)}params.confirmButtonText=(params.showCancelButton)?"Confirm":defaultParams.confirmButtonText;params.confirmButtonText=argumentOrDefault("confirmButtonText");params.doneFunction=arguments[1]||null;break;default:logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]);return false}setParameters(params);fixVerticalPosition();openModal();var modal=getModal();var onButtonEvent=function(event){var e=event||window.event;var target=e.target||e.srcElement,targetedConfirm=(target.className.indexOf("confirm")!==-1),modalIsVisible=hasClass(modal,"visible"),doneFunctionExists=(params.doneFunction&&modal.getAttribute("data-has-done-function")==="true");switch(e.type){case ("mouseover"):if(targetedConfirm){target.style.backgroundColor=colorLuminance(params.confirmButtonColor,-0.04)}break;case ("mouseout"):if(targetedConfirm){target.style.backgroundColor=params.confirmButtonColor}break;case ("mousedown"):if(targetedConfirm){target.style.backgroundColor=colorLuminance(params.confirmButtonColor,-0.14)}break;case ("mouseup"):if(targetedConfirm){target.style.backgroundColor=colorLuminance(params.confirmButtonColor,-0.04)}break;case ("focus"):var $confirmButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel");if(targetedConfirm){$cancelButton.style.boxShadow="none"}else{$confirmButton.style.boxShadow="none"}break;case ("click"):if(targetedConfirm&&doneFunctionExists&&modalIsVisible){params.doneFunction(true);if(params.closeOnConfirm){sweetAlert.close()}}else{if(doneFunctionExists&&modalIsVisible){var functionAsStr=String(params.doneFunction).replace(/\s/g,"");var functionHandlesCancel=functionAsStr.substring(0,9)==="function("&&functionAsStr.substring(9,10)!==")";if(functionHandlesCancel){params.doneFunction(false)}if(params.closeOnCancel){sweetAlert.close()}}else{sweetAlert.close()}}break}};var $buttons=modal.querySelectorAll("button");for(var i=0;i<$buttons.length;i++){$buttons[i].onclick=onButtonEvent;$buttons[i].onmouseover=onButtonEvent;$buttons[i].onmouseout=onButtonEvent;$buttons[i].onmousedown=onButtonEvent;$buttons[i].onfocus=onButtonEvent}previousDocumentClick=document.onclick;document.onclick=function(event){var e=event||window.event;var target=e.target||e.srcElement;var clickedOnModal=(modal===target),clickedOnModalChild=isDescendant(modal,target),modalIsVisible=hasClass(modal,"visible"),outsideClickIsAllowed=modal.getAttribute("data-allow-ouside-click")==="true";if(!clickedOnModal&&!clickedOnModalChild&&modalIsVisible&&outsideClickIsAllowed){sweetAlert.close()}};var $okButton=modal.querySelector("button.confirm"),$cancelButton=modal.querySelector("button.cancel"),$modalButtons=modal.querySelectorAll("button[tabindex]");function handleKeyDown(event){var e=event||window.event;var keyCode=e.keyCode||e.which;if([9,13,32,27].indexOf(keyCode)===-1){return}var $targetElement=e.target||e.srcElement;var btnIndex=-1;for(var i=0;i<$modalButtons.length;i++){if($targetElement===$modalButtons[i]){btnIndex=i;break}}if(keyCode===9){if(btnIndex===-1){$targetElement=$okButton}else{if(btnIndex===$modalButtons.length-1){$targetElement=$modalButtons[0]}else{$targetElement=$modalButtons[btnIndex+1]}}stopEventPropagation(e);$targetElement.focus();setFocusStyle($targetElement,params.confirmButtonColor)}else{if(keyCode===13||keyCode===32){if(btnIndex===-1){$targetElement=$okButton}else{$targetElement=undefined}}else{if(keyCode===27&&params.allowEscapeKey===true){$targetElement=$cancelButton}else{$targetElement=undefined}}if($targetElement!==undefined){fireClick($targetElement,e)}}}previousWindowKeyDown=window.onkeydown;window.onkeydown=handleKeyDown;function handleOnBlur(event){var e=event||window.event;var $targetElement=e.target||e.srcElement,$focusElement=e.relatedTarget,modalIsVisible=hasClass(modal,"visible");if(modalIsVisible){var btnIndex=-1;if($focusElement!==null){for(var i=0;i<$modalButtons.length;i++){if($focusElement===$modalButtons[i]){btnIndex=i;break}}if(btnIndex===-1){$targetElement.focus()}}else{lastFocusedButton=$targetElement}}}$okButton.onblur=handleOnBlur;$cancelButton.onblur=handleOnBlur;window.onfocus=function(){window.setTimeout(function(){if(lastFocusedButton!==undefined){lastFocusedButton.focus();lastFocusedButton=undefined}},0)}};sweetAlert.setDefaults=swal.setDefaults=function(userParams){if(!userParams){throw new Error("userParams is required")}if(typeof userParams!=="object"){throw new Error("userParams has to be a object")}extend(defaultParams,userParams)};function setParameters(params){var modal=getModal();
var $title=modal.querySelector("h2"),$text=modal.querySelector("p"),$cancelBtn=modal.querySelector("button.cancel"),$confirmBtn=modal.querySelector("button.confirm");$title.innerHTML=(params.html)?params.title:escapeHtml(params.title).split("\n").join("<br>");$text.innerHTML=(params.html)?params.text:escapeHtml(params.text||"").split("\n").join("<br>");if(params.text){show($text)}if(params.customClass){addClass(modal,params.customClass);modal.setAttribute("data-custom-class",params.customClass)}else{var customClass=modal.getAttribute("data-custom-class");removeClass(modal,customClass);modal.setAttribute("data-custom-class","")}hide(modal.querySelectorAll(".sa-icon"));if(params.type&&!isIE8()){var validType=false;for(var i=0;i<alertTypes.length;i++){if(params.type===alertTypes[i]){validType=true;break}}if(!validType){logStr("Unknown alert type: "+params.type);return false}var $icon=modal.querySelector(".sa-icon."+"sa-"+params.type);show($icon);switch(params.type){case"success":addClass($icon,"animate");addClass($icon.querySelector(".sa-tip"),"animateSuccessTip");addClass($icon.querySelector(".sa-long"),"animateSuccessLong");break;case"error":addClass($icon,"animateErrorIcon");addClass($icon.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":addClass($icon,"pulseWarning");addClass($icon.querySelector(".sa-body"),"pulseWarningIns");addClass($icon.querySelector(".sa-dot"),"pulseWarningIns");break}}if(params.imageUrl){var $customIcon=modal.querySelector(".sa-icon.sa-custom");$customIcon.style.backgroundImage="url("+params.imageUrl+")";show($customIcon);var _imgWidth=80,_imgHeight=80;if(params.imageSize){var dimensions=params.imageSize.toString().split("x");var imgWidth=dimensions[0];var imgHeight=dimensions[1];if(!imgWidth||!imgHeight){logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+params.imageSize)}else{_imgWidth=imgWidth;_imgHeight=imgHeight}}$customIcon.setAttribute("style",$customIcon.getAttribute("style")+"width:"+_imgWidth+"px; height:"+_imgHeight+"px")}modal.setAttribute("data-has-cancel-button",params.showCancelButton);if(params.showCancelButton){$cancelBtn.style.display="inline-block"}else{hide($cancelBtn)}modal.setAttribute("data-has-confirm-button",params.showConfirmButton);if(params.showConfirmButton){$confirmBtn.style.display="inline-block"}else{hide($confirmBtn)}if(params.cancelButtonText){$cancelBtn.innerHTML=escapeHtml(params.cancelButtonText)}if(params.confirmButtonText){$confirmBtn.innerHTML=escapeHtml(params.confirmButtonText)}$confirmBtn.style.backgroundColor=params.confirmButtonColor;setFocusStyle($confirmBtn,params.confirmButtonColor);modal.setAttribute("data-allow-ouside-click",params.allowOutsideClick);var hasDoneFunction=(params.doneFunction)?true:false;modal.setAttribute("data-has-done-function",hasDoneFunction);if(!params.animation){modal.setAttribute("data-animation","none")}else{modal.setAttribute("data-animation","pop")}modal.setAttribute("data-timer",params.timer)}function colorLuminance(hex,lum){hex=String(hex).replace(/[^0-9a-f]/gi,"");if(hex.length<6){hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]}lum=lum||0;var rgb="#",c,i;for(i=0;i<3;i++){c=parseInt(hex.substr(i*2,2),16);c=Math.round(Math.min(Math.max(0,c+(c*lum)),255)).toString(16);rgb+=("00"+c).substr(c.length)}return rgb}function extend(a,b){for(var key in b){if(b.hasOwnProperty(key)){a[key]=b[key]}}return a}function hexToRgb(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?parseInt(result[1],16)+", "+parseInt(result[2],16)+", "+parseInt(result[3],16):null}function setFocusStyle($button,bgColor){var rgbColor=hexToRgb(bgColor);$button.style.boxShadow="0 0 2px rgba("+rgbColor+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"}function openModal(){var modal=getModal();fadeIn(getOverlay(),10);show(modal);addClass(modal,"showSweetAlert");removeClass(modal,"hideSweetAlert");previousActiveElement=document.activeElement;var $okButton=modal.querySelector("button.confirm");$okButton.focus();setTimeout(function(){addClass(modal,"visible")},500);var timer=modal.getAttribute("data-timer");if(timer!=="null"&&timer!==""){modal.timeout=setTimeout(function(){sweetAlert.close()},timer)}}sweetAlert.close=swal.close=function(){var modal=getModal();fadeOut(getOverlay(),5);fadeOut(modal,5);removeClass(modal,"showSweetAlert");addClass(modal,"hideSweetAlert");removeClass(modal,"visible");var $successIcon=modal.querySelector(".sa-icon.sa-success");removeClass($successIcon,"animate");removeClass($successIcon.querySelector(".sa-tip"),"animateSuccessTip");removeClass($successIcon.querySelector(".sa-long"),"animateSuccessLong");var $errorIcon=modal.querySelector(".sa-icon.sa-error");removeClass($errorIcon,"animateErrorIcon");removeClass($errorIcon.querySelector(".sa-x-mark"),"animateXMark");var $warningIcon=modal.querySelector(".sa-icon.sa-warning");removeClass($warningIcon,"pulseWarning");removeClass($warningIcon.querySelector(".sa-body"),"pulseWarningIns");removeClass($warningIcon.querySelector(".sa-dot"),"pulseWarningIns");
window.onkeydown=previousWindowKeyDown;document.onclick=previousDocumentClick;if(previousActiveElement){previousActiveElement.focus()}lastFocusedButton=undefined;clearTimeout(modal.timeout)};function fixVerticalPosition(){var modal=getModal();modal.style.marginTop=getTopMargin(getModal())}function isIE8(){if(window.attachEvent&&!window.addEventListener){return true}else{return false}}function logStr(string){if(window.console){window.console.log("SweetAlert: "+string)}}if(typeof define==="function"&&define.amd){define(function(){return sweetAlert})}else{if(typeof module!=="undefined"&&module.exports){module.exports=sweetAlert}else{if(typeof window!=="undefined"){window.sweetAlert=window.swal=sweetAlert}}}})(window,document);